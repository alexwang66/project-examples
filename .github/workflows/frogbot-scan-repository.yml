name: "Frogbot"
on:
 # After a pull request opened, Frogbot automatically creates the "üê∏ frogbot scan" label if needed.
 # After "üê∏ frogbot scan" label was added to a pull request, Frogbot scans the pull request.
 pull_request_target:
   types: [labeled, opened]
jobs:
 scan-pull-request:
   runs-on: ubuntu-latest
   steps:
     - uses: actions/checkout@v2
       with:
         ref: ${{ github.event.pull_request.head.sha }}

     # Install prerequisites
     - name: Set up Java
       uses: actions/setup-java@v3
       with:
         java-version: "11"
         distribution: "temurin"

     - uses: jfrog/frogbot@v2
       env:
         # [Mandatory]
         # JFrog platform URL
         JF_URL: ${{ secrets.JF_URL }}


         # [Manadatory]
         # The GitHub token automatically generated for the job
         JF_GIT_TOKEN: ${{ secrets.GITHUB_TOKEN }}

         # Uncomment the below options if you'd like to use them.

         # [Mandatory if JF_USER and JF_PASSWORD are not provided]
         # JFrog access token with 'read' permissions on Xray service
         JF_ACCESS_TOKEN: ${{ secrets.JF_ACCESS_TOKEN }}

         # [Optional, default: "."]
         # Relative path to the project in the git repository
         JF_WORKING_DIR: maven-examples/maven-example
